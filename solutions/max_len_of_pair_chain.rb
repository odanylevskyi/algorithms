=begin
You are given n pairs of numbers. In every pair, the first number is always smaller than the second number.

Now, we define a pair (c, d) can follow another pair (a, b) if and only if b < c. Chain of pairs can be formed in this fashion.

Given a set of pairs, find the length longest chain which can be formed. You needn't use up all the given pairs. You can select pairs in any order.

Example 1:
Input: [[1,2], [2,3], [3,4]]
Output: 2
Explanation: The longest chain is [1,2] -> [3,4]
Note:
The number of given pairs will be in the range [1, 1000].
=end

# @param {Integer[][]} pairs
# @return {Integer}
def find_longest_chain(pairs)
  if pairs.size == 0
    return 0
  end
  pairs = pairs.sort_by { |pair| pair[1] }
  puts pairs.to_s
  memo = 0
  i = 0
  n = pairs.size - 1
  for j in (0..n)
    if j == 0 || pairs[i][1] < pairs[j][0]
      memo += 1
      i = j
    end
  end
  return memo
end

puts find_longest_chain([[1,2], [2,3], [3,4]])
#[[475,880],[-501,320],[358,798],[-77,-30],[276,488],[-242,540],[-209,-120],[726,738],[390,699],[69,214],[-642,-234],[319,352],[-330,410],[867,942],[-1,80],[-820,-164],[-867,-732],[636,842],[895,899],[882,934],[-203,209],[-118,388],[-884,405],[169,187],[309,654],[-425,514],[111,557],[172,379],[532,913],[-174,589],[905,989],[259,778],[-511,-41],[-657,-404],[-979,-163],[-984,264],[-645,537],[-165,-86],[894,917],[-822,-590],[-61,17],[692,986],[-836,-19],[-835,373],[-647,-484],[920,998],[-73,438],[-388,701],[821,973],[145,705],[710,858],[837,938],[-51,354],[228,804],[753,891],[955,974],[319,421],[472,549],[692,694],[-162,502],[-329,27],[-237,378],[488,592],[98,792],[-987,-561],[368,825],[-34,876],[-441,475],[925,933],[474,574],[387,504],[627,694],[-903,287],[510,875],[-629,-547],[179,320],[454,977],[608,634],[-484,-68],[455,937],[612,758],[-458,287],[453,971],[-923,683],[792,864],[-128,324],[-488,913],[-334,834],[214,264],[-275,935],[-848,968],[-625,150],[-699,-40],[606,698],[-845,130],[719,953],[-771,356],[302,783],[-255,252],[-873,-751],[935,943],[871,939],[915,987],[259,460],[159,997],[335,363],[732,800],[806,937],[-991,-770],[238,896],[873,987],[582,976],[-271,770],[347,837],[666,681],[264,309],[140,884],[-635,-81],[336,988],[-345,-255],[512,915],[-853,-430],[-986,-292],[961,986],[243,614],[-794,500],[-11,956],[519,969],[921,946],[-773,979],[624,980],[997,1000],[-538,324],[901,912],[-948,941],[-502,-357],[19,929],[980,992],[978,1000],[-156,214],[-747,910],[-925,875],[657,894],[929,940],[391,488],[-479,-476],[-243,63],[648,910],[-686,-557],[-402,-91],[-13,229],[-334,609],[-595,-98],[932,960],[880,890],[-516,240],[-436,-36],[179,380],[-172,90],[476,561],[207,883],[-216,940],[-279,-227],[773,856],[-232,413],[207,717],[189,790],[-101,389],[-955,-177],[594,741],[504,545],[-684,43],[-240,-51],[207,720],[-353,-268],[-958,56],[842,961],[500,993],[6,395],[-185,634],[867,965],[942,961],[-1,839],[740,939],[621,953],[605,618],[-272,405],[-809,-618],[-872,209],[793,996],[392,913],[754,756],[-926,564],[883,929],[493,564],[-673,-338],[-242,534],[-59,334],[-151,-28],[773,809],[171,815],[565,838],[887,909],[544,637],[722,803],[807,955],[962,997],[220,932],[667,793],[647,728],[-634,231],[62,351],[-418,479],[-589,-252],[790,842],[-47,839],[678,753],[134,722],[779,825],[498,764],[763,986],[427,658],[64,983],[680,698],[-503,906],[-789,480],[185,692],[-108,61],[-306,293],[-983,306],[-600,148],[910,988],[787,957],[-464,70],[973,997],[-155,162],[-750,368],[942,956],[701,944],[419,866],[649,987],[322,754],[-879,410],[-416,-113],[-594,-153],[-481,-45],[-288,-115],[-914,-468],[-657,-487],[-35,672],[124,418],[313,745],[-391,81],[493,580],[867,916],[786,969],[-560,524],[-750,-402],[540,560],[901,937],[171,186],[686,994],[-604,13],[603,655],[-903,216],[972,976],[101,809],[-574,602],[-491,369],[576,657],[732,943],[-804,268],[361,641],[-866,-670],[561,866],[-934,4],[891,987],[-569,-39],[-290,321],[33,506],[-549,-103],[188,632],[709,851],[532,806],[-807,-704],[-950,-245],[-349,380],[650,700],[-288,882],[349,783],[-300,480],[-26,676],[759,836],[400,683],[-367,543],[-907,-844],[-503,63],[930,935],[-236,850],[-392,-100],[-993,-523],[561,931],[495,799],[-763,-695],[52,69],[-429,95],[154,860],[997,998],[-70,430],[14,543],[437,840],[-90,980],[-427,-240],[-639,-431],[-633,242],[503,582],[-449,-296],[168,602],[755,777],[716,732],[-520,-120],[-177,-156],[-139,20],[894,903],[658,936],[731,895],[-115,-88],[177,835],[-870,-644],[177,599],[528,702],[-362,867],[-89,429],[515,710],[310,627],[799,845],[303,338],[-263,-70],[993,994],[-542,809],[648,880],[-336,-285],[586,772],[-553,-413],[829,853],[734,980],[-79,53],[812,946],[-348,39],[-646,-37],[-258,531],[595,916],[237,871],[452,719],[-749,146],[50,625],[508,637],[264,741],[680,998],[541,807],[-343,543],[612,650],[354,609],[-297,-80],[46,438],[-615,-156],[-244,-63],[-727,211],[-977,300],[312,473],[791,938],[-894,985],[-208,-96],[149,672],[-395,-248],[-3,589],[-629,198],[480,916],[-419,-380],[-676,32],[201,762],[619,748],[-307,759],[395,958],[685,984],[-181,-123],[-456,764],[-732,-77],[401,503],[180,517],[251,275],[-821,-527],[-985,83],[64,467],[556,841],[-369,782],[347,967],[342,888],[19,85],[899,900],[-98,861],[926,992],[-505,820],[-727,18],[348,642],[-544,57],[-80,849],[-438,-396],[273,332],[397,583],[136,973],[241,520],[750,878],[-932,-247],[-5,230],[67,877],[815,926],[-462,135],[929,954],[-316,132],[-195,798],[59,831],[433,736],[-179,551],[749,940],[-201,-105],[-800,-439],[-545,213],[-568,-496],[-782,525],[593,705],[-548,-399],[-771,433],[-937,-162],[612,843],[720,729],[-281,-137],[-989,6],[119,855],[-596,-594],[956,969],[488,698],[-990,268],[549,606],[306,912],[106,143],[-159,253],[-689,367],[-897,623],[-802,790],[941,974],[-807,367],[864,879],[-690,199],[179,473],[-193,830],[641,957],[681,898],[-783,725],[-577,872],[314,421],[-207,264],[348,891],[-339,888],[265,598],[648,768],[-357,-326],[-632,152],[866,909],[362,789],[787,863],[-640,773],[707,946],[886,955],[-773,-42],[-543,21],[-440,999],[476,732],[962,995],[404,835],[-533,709],[690,869],[-713,-238],[-951,943],[-653,-259],[791,854],[808,822],[431,486],[482,494],[42,903],[-498,468],[207,356],[790,802],[299,795],[279,313],[-52,927],[-111,641],[747,823],[223,749],[532,725],[-950,844],[911,979],[-388,423],[190,414],[-576,-98],[460,575],[-945,-326],[-683,191],[147,341],[908,988],[-90,617],[-892,315],[-603,44],[441,669],[405,929],[503,925],[-499,632],[-990,104],[-694,-175],[-367,425],[647,753],[881,891],[-748,282],[603,656],[164,597],[313,492],[-957,-697],[-886,147],[822,829],[600,660],[-862,-386],[-126,-116],[-308,490],[309,347],[132,933],[951,983],[-252,-21],[934,955],[-21,983],[-989,272],[-625,-518],[-371,277],[392,795],[714,777],[-73,564],[25,689],[34,747],[-501,552],[-270,-260],[-446,286],[421,875],[-815,-284],[-957,36],[-592,-100],[-76,347],[-499,-45],[371,611],[-307,494],[131,604],[-159,-118],[205,684],[-473,-276],[-866,-410],[654,951],[964,992],[-558,274],[817,933],[-66,502]]